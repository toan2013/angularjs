<div id="main-content" class="container" ng-controller="SignupController as reg">
  <h1>Sign up Newsletter</h1>

  <fieldset>
    <form class="form-group" name='regForm' novalidate >
      <input class="form-control" type="text" name="firstname"
        placeholder="Enter your first name"
        ng-model="reg.user.firstname"
        required
        minlength="1"
        ng-maxlength="50" >
        <span
          ng-if="(regForm.firstname.$error.minlength || regForm.firstname.$error.required) && regForm.firstname.$touched">
          firstname must be at least 1 character long
        </span>
        <span
          ng-if="(regForm.firstname.$error.maxlength || regForm.firstname.$error.required) && regForm.firstname.$touched">
          firstname must be at most 50 character long
        </span>
        <br>

        <input class="form-control" type="text" name="lastname"
          placeholder="Enter your last name"
          ng-model="reg.user.lastname"
          required
          minlength="1"
          ng-maxlength="50" >
          <span
            ng-if="(regForm.lastname.$error.minlength || regForm.lastname.$error.required) && regForm.lastname.$touched">
            lastname must be at least 1 character long
          </span>
          <span
            ng-if="(regForm.lastname.$error.maxlength || regForm.lastname.$error.required) && regForm.lastname.$touched">
            lastname must be at most 50 character long
          </span>
          <br>

      <input class="form-control" type="email" name="email"
        placeholder="Email handle@format"
        ng-model="reg.user.email"
        required>
        <span ng-if="regForm.email.$invalid && regForm.email.$touched">
          Must be a valid email address: handle@domain format
        </span>
        <br>

      <input class="form-control" type="text" name="phone"
        placeholder="Phone ###-###-####"
        ng-model="reg.user.phone"
        pattern="(\d{3})-(\d{3})-(\d{4})">
        <span ng-if="regForm.phone.$invalid && regForm.phone.$touched">
          Phone must be in the format ###-###-####.
        </span>
        <br>

        <input class="form-control" type="text" name="favorite"
          placeholder="Favorite Food Item (short name)"
          ng-model="reg.user.favorite"
          required
          minlength="1"
          ng-maxlength="50" >
          <span ng-if="(regForm.favorite.$error.minlength && regForm.favorite.$touched) ||
              (regForm.favorite.$error.maxlength && regForm.favorite.$touched)">
            Short name of menu item must be betwen 1 and 50 characters
          </span>
          <br>

      <button
        class="form-control"
        ng-disabled="regForm.$invalid"
        ng-click="reg.submit()">Submit</button>
<!--
        <div style="margin-top: 10px;">
          Form valid? {{ regForm.$valid }}
        </div>
-->
    </form>
  </fieldset>

  <div ng-if="reg.completed===true && reg.error===false" ng-model="reg.completed">
    Your information has been saved!
  </div>
  <div ng-if="reg.completed===true && reg.error===true" ng-model="reg.completed">
    No such menu number exists!
  </div>

</div>
